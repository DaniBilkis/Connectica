<mat-toolbar>
  <span>Messages</span>

  <span class="fill-remaining-space"></span>

</mat-toolbar>
<div class="messages-main-div">
  <!--
  <div class="messages-left-div mat-elevation-z8" *ngIf="dataSource">
    <mat-table #table [dataSource]="dataSource.getMessages()">

      <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition"


      <ng-container matColumnDef="partner">
        <mat-header-cell *matHeaderCellDef> Partner</mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.BUYER.NAME}}</mat-cell>
      </ng-container>


      <ng-container matColumnDef="messageNumber">
        <mat-header-cell *matHeaderCellDef> ID</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.ORDER_NUMBER}}</mat-cell>
      </ng-container>


      <ng-container matColumnDef="inOutMessageType">
        <mat-header-cell *matHeaderCellDef> In / Out</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.TYPE_OF_MESSAGE}}</mat-cell>
      </ng-container>


      <ng-container matColumnDef="typeOfMessage">
        <mat-header-cell *matHeaderCellDef> Type</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.TYPE_OF_MESSAGE}}</mat-cell>
      </ng-container>



      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef> Date</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.DATE | date}}</mat-cell>
      </ng-container>



      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row class="ripple" *matRowDef="let row; columns: displayedColumns;" (click)="selectedMessage(row)" [ngClass]="{ 'selected': selection.isSelected(row)}"></mat-row>
    </mat-table>
  </div>
-->
  <div class="messages-left-div mat-elevation-z8">
    <mat-nav-list class="messages_nav_list" *ngIf="dataSource">
      <mat-toolbar class="messages_nav_list_toolbar">
        <div class="messages_list_toolbar">
          <!--
          <div>
            <button class="mat-icon-button" (click)="toggleSidenav('left')" fxHide.gt-md aria-label="Menu">
              <mat-icon svgIcon="menu_icon" aria-label="Menu"></mat-icon>
            </button>
          </div>
          -->
          <div>
            <h3 *ngIf="!showSearch">Messages</h3>
          </div>
          <div class="messages_list_toolbar_fill_remaining_space"></div>
          <div>
            <button class="mat-icon-button messages_list_toolbar_search_buttons" aria-label="Search"
                    (click)="toggleSearch()">
              <i *ngIf="!showSearch" class="material-icons">search</i>
              <i *ngIf="showSearch" class="material-icons">arrow_back</i>
            </button>
          </div>
          <div [hidden]="!showSearch">
            <input matInput #searchBox (keyup)="onKeyUp(searchBox.value)" type="search" placeholder="enter search">
          </div>
        </div>
      </mat-toolbar>
      <!-- <h3 matSubheader>Folders</h3> -->
      <mat-list-item class="messages_list_item" *ngFor="let item of dataSource.getMessages()" role="link"
                     (click)="selectedMessage(item)">

        <div class="messages_list_item_description">
          <p>{{item.TYPE_OF_MESSAGE}}</p>
          <p>{{item.BUYER.NAME}}</p>
          <p>{{item.ORDER_NUMBER}}</p>
        </div>
        <div class="messages_list_item_date">
          <p>{{item.DATE | date}}</p>
          <p>{{item.DELIVERY_STATUS}}</p>
        </div>
        <mat-divider></mat-divider>

      </mat-list-item>
    </mat-nav-list>
  </div>
  <div class="messages-right-div mat-elevation-z8">
    <div *ngIf="selectedRow">
      <mat-toolbar>
        <div>
          <h3>{{selectedRow.TYPE_OF_MESSAGE}}</h3>
        </div>
      </mat-toolbar>
      <div class="message-content">
        <div class="message-details-main">
          <div>
            <p>Document-Nr</p>
            <h3>{{selectedRow.DOCUMENT_NUMBER}}</h3>
          </div>
          <div>
            <p>Sender</p>
            <h3>{{selectedRow.BUYER.NAME}}</h3>
          </div>
          <div>
            <p>Document Date</p>
            <h3>{{selectedRow.DATE | date}}</h3>
          </div>
        </div>
        <div class="message_details_content">
          <div class="message_details_left_pane">
            <div><h3>Supplier</h3></div>
            <div class="message_details_sections">
              <div>
                <p>{{selectedRow.SUPPLIER.NAME}}</p>
                <p>{{selectedRow.SUPPLIER.ADDRESS.STREET}} {{selectedRow.SUPPLIER.ADDRESS.CITY}}
                  {{selectedRow.SUPPLIER.ADDRESS.COUNTRY}} {{selectedRow.SUPPLIER.ADDRESS.ZIP}}</p>
              </div>
            </div>
            <div><h3>Buyer</h3></div>
            <div class="message_details_sections">
              <div>
                <p>{{selectedRow.BUYER.NAME}}</p>
                <p>{{selectedRow.BUYER.ADDRESS.STREET}} {{selectedRow.BUYER.ADDRESS.CITY}}
                  {{selectedRow.BUYER.ADDRESS.COUNTRY}} {{selectedRow.BUYER.ADDRESS.ZIP}}</p>
              </div>
            </div>
            <div><h3>Delivery Address</h3></div>
            <div class="message_details_sections">
              <div>
                <p>{{selectedRow.SHIP_TO.NAME}}</p>
                <p>{{selectedRow.SHIP_TO.ADDRESS.STREET}} {{selectedRow.SHIP_TO.ADDRESS.CITY}}
                  {{selectedRow.SHIP_TO.ADDRESS.COUNTRY}} {{selectedRow.SHIP_TO.ADDRESS.ZIP}}</p>
              </div>
            </div>
            <div><h3>Ultimate Customer</h3></div>
            <div class="message_details_sections">
              <div>
                <p>{{selectedRow.ULTIMATE_CUSTOMER.NAME}}</p>
                <p>{{selectedRow.ULTIMATE_CUSTOMER.ADDRESS.STREET}} {{selectedRow.ULTIMATE_CUSTOMER.ADDRESS.CITY}}
                  {{selectedRow.ULTIMATE_CUSTOMER.ADDRESS.COUNTRY}} {{selectedRow.ULTIMATE_CUSTOMER.ADDRESS.ZIP}}</p>
              </div>
            </div>
          </div>
          <div class="message_details_right_pane">
            <div><h3>Various Information</h3></div>
            <div>
              <p>Order Date: {{selectedRow.DATE | date}}</p>
              <p>Order-Nr. Customer: {{selectedRow.ORDER_NUMBER}}</p>
            </div>
            <div><h3>Delivery Info</h3></div>
            <div>
              <p>Earliest Delivery Date: {{selectedRow.DELIVERY_DATE.DELIVERY_START_DATE | date}}</p>
              <p>Latest Delivery Date: {{selectedRow.DELIVERY_DATE.DELIVERY_END_DATE | date}}</p>
              <p>Requested Delivery Date: {{selectedRow.DELIVERY_DATE.DELIVERY_REQUESTED_DATE | date}}</p>
            </div>
            <div><h3>Payment Conditions</h3></div>
            <div>
              <p>Payment due at: {{selectedRow.DELIVERY_DATE.DELIVERY_END_DATE | date}}</p>
            </div>
          </div>
        </div>
        <div>
          <mat-table #table [dataSource]="selectedRow.ITEM_LIST">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- Partner Column -->
            <ng-container matColumnDef="position">
              <mat-header-cell *matHeaderCellDef> Pos.</mat-header-cell>
              <mat-cell *matCellDef="let item">{{item.LINE_ITEM_ID}}</mat-cell>
            </ng-container>

            <!-- Message Number Column -->
            <ng-container matColumnDef="article">
              <mat-header-cell *matHeaderCellDef> Item Number</mat-header-cell>
              <mat-cell *matCellDef="let item"> {{item.ARTICLE_ID.SUPPLIER_AID}}</mat-cell>
            </ng-container>

            <!-- Inbound Outbound Column -->
            <ng-container matColumnDef="description">
              <mat-header-cell *matHeaderCellDef> Description</mat-header-cell>
              <mat-cell *matCellDef="let item"> {{item.ARTICLE_ID.DESCRIPTION_SHORT}}</mat-cell>
            </ng-container>

            <!-- Inbound Outbound Column -->
            <ng-container matColumnDef="quantity">
              <mat-header-cell *matHeaderCellDef> Qty.</mat-header-cell>
              <mat-cell *matCellDef="let item"> {{item.QUANTITY}}</mat-cell>
            </ng-container>

            <!-- Inbound Outbound Column -->
            <ng-container matColumnDef="price">
              <mat-header-cell *matHeaderCellDef> Price</mat-header-cell>
              <mat-cell *matCellDef="let item"> {{item.ARTICLE_PRICE.PRICE_AMOUNT}}</mat-cell>
            </ng-container>

            <!-- Inbound Outbound Column -->
            <ng-container matColumnDef="total">
              <mat-header-cell *matHeaderCellDef> Total</mat-header-cell>
              <mat-cell *matCellDef="let item"> {{item.ARTICLE_PRICE.PRICE_LINE_AMOUNT}}</mat-cell>
            </ng-container>

            <!-- | currency: element.currency -->

            <mat-header-row *matHeaderRowDef="displayedDetailedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedDetailedColumns;"></mat-row>
          </mat-table>
        </div>
        <div class="message-total-charge">
          Total: {{selectedRow.totalCharge | currency: selectedRow.currency}}
        </div>
      </div>
      <div class="message_details_footer">
        <div>
          <button mat-raised-button (click)="orderResponse(selectedRow)">Order Response</button>
        </div>
        <div>
          <button mat-raised-button>Create Dispatch Advice</button>
        </div>
        <div>
          <button mat-raised-button>Create Invoice</button>
        </div>
        <div>
          <button mat-raised-button>Show EDI Message</button>
        </div>
        <div>
          <button mat-raised-button>Export to PDF</button>
        </div>
        <div>
          <button mat-raised-button>Export to XLSX</button>
        </div>
      </div>
    </div>
  </div>

</div>
